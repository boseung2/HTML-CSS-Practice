<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<input type=checkbox>전체</input><br>
<input type=checkbox value="야구">야구</input><br>
<input type=checkbox value="축구">축구</input><br>
<input type=checkbox value="농구">농구</input><br>
<input type=checkbox value="배구">배구</input><br>
<textarea name="" id="ta" cols="30" rows="10"></textarea>
    
<script>
        let inputs = document.getElementsByTagName('input');

        window.onload = function() {
            for(let i=0; i<=4; i++) {
                inputs[i].onclick = clickAction;
            }
        };

        function clickAction() {
            // 전체(input[0])버튼 눌렀을때
            if (this == inputs[0]) {
                changeAllChecked();
            }else {
                // 전체(input[0])버튼빼고 나머지 눌렀을때 전체버튼check는 제거
                inputs[0].checked = false;
            }
            checkAllIfAllchecked();
            printSelectedInput();
        };

        // 전체input태크의 check에 따라 모두 check적용/해제한다.
        function changeAllChecked() {
            change(inputs, inputs[0].checked);
        };

        // 모든 input태그를 target(boolean)값으로 바꾼다
        function change(inputs, ischecked) {
            for(let i in inputs) {
                inputs[i].checked = ischecked;
            }
        }

        // 전체input을 제외한 모든 input이 check되어있으면 all도 check한다.
        function checkAllIfAllchecked() {
            let ischeckedAll = true;
            for(let i=1; i<inputs.length; i++) {
                if(inputs[i].checked == false) {
                    ischeckedAll = false;
                    break;
                }
            }
            inputs[0].checked = ischeckedAll;
        }

        // check된 input태그들을 프린트한다.
        function printSelectedInput() {
            let textArea = document.getElementById('ta');
            let output = '';
            for(let i=1; i<inputs.length; i++) {
                if(inputs[i].checked) {
                    output += inputs[i].value;
                }
            }
            textArea.value = output;
        }
</script>
</body>
</html>